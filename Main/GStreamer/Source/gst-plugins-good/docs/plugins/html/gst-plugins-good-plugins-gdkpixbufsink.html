<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>gdkpixbufsink</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="GStreamer Good Plugins 0.10 Plugins Reference Manual">
<link rel="up" href="ch01.html" title="gst-plugins-good Elements">
<link rel="prev" href="gst-plugins-good-plugins-gconfvideosink.html" title="gconfvideosink">
<link rel="next" href="gst-plugins-good-plugins-goom.html" title="goom">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="gst-plugins-good-plugins-gconfvideosink.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GStreamer Good Plugins 0.10 Plugins Reference Manual</th>
<td><a accesskey="n" href="gst-plugins-good-plugins-goom.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#gst-plugins-good-plugins-gdkpixbufsink.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#gst-plugins-good-plugins-gdkpixbufsink.description" class="shortcut">Description</a>
                   | 
                  <a href="#gst-plugins-good-plugins-gdkpixbufsink.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#gst-plugins-good-plugins-gdkpixbufsink.properties" class="shortcut">Properties</a>
</td></tr>
</table>
<div class="refentry" title="gdkpixbufsink">
<a name="gst-plugins-good-plugins-gdkpixbufsink"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="gst-plugins-good-plugins-gdkpixbufsink.top_of_page"></a>gdkpixbufsink</span></h2>
<p>gdkpixbufsink — Output images as GdkPixbuf objects in bus messages</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="gst-plugins-good-plugins-gdkpixbufsink.synopsis"></a><h2>Synopsis</h2>
<a name="GstGdkPixbufSink"></a><pre class="synopsis">                    <a class="link" href="gst-plugins-good-plugins-gdkpixbufsink.html#GstGdkPixbufSink-struct" title="GstGdkPixbufSink">GstGdkPixbufSink</a>;
</pre>
</div>
<div class="refsect1" title="Object Hierarchy">
<a name="gst-plugins-good-plugins-gdkpixbufsink.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  <a href="http://library.gnome.org/devel/gobject/unstable/gobject-The-Base-Object-Type.html#GObject">GObject</a>
   +----<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gstreamer/html/GstObject.html">GstObject</a>
         +----<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gstreamer/html/GstElement.html">GstElement</a>
               +----<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gstreamer-libs/html/GstBaseSink.html">GstBaseSink</a>
                     +----<a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-base-libs/html/gst-plugins-base-libs-gstvideosink.html#GstVideoSink">GstVideoSink</a>
                           +----GstGdkPixbufSink
</pre>
</div>
<div class="refsect1" title="Properties">
<a name="gst-plugins-good-plugins-gdkpixbufsink.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="gst-plugins-good-plugins-gdkpixbufsink.html#GstGdkPixbufSink--last-pixbuf" title='The "last-pixbuf" property'>last-pixbuf</a>"              <span class="type">GdkPixbuf</span>*            : Read
  "<a class="link" href="gst-plugins-good-plugins-gdkpixbufsink.html#GstGdkPixbufSink--send-messages" title='The "send-messages" property'>send-messages</a>"            <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="type">gboolean</span></a>              : Read / Write
  "<a class="link" href="gst-plugins-good-plugins-gdkpixbufsink.html#GstGdkPixbufSink--post-messages" title='The "post-messages" property'>post-messages</a>"            <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="type">gboolean</span></a>              : Read / Write
</pre>
</div>
<div class="refsect1" title="Description">
<a name="gst-plugins-good-plugins-gdkpixbufsink.description"></a><h2>Description</h2>
<p>
This sink element takes RGB or RGBA images as input and wraps them into
<span class="type">GdkPixbuf</span> objects, for easy saving to file via the
GdkPixbuf library API or displaying in Gtk+ applications (e.g. using
the <a href="http://library.gnome.org/devel/gtk/unstable/GtkImage.html"><span class="type">GtkImage</span></a> widget).
</p>
<p>
There are two ways to use this element and obtain the <span class="type">GdkPixbuf</span> objects
created:
</p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
Watching for element messages named <code class="classname">"preroll-pixbuf"
</code> or <code class="classname">"pixbuf"</code> on the bus, which
will be posted whenever an image would usually be rendered. See below for
more details on these messages and how to extract the pixbuf object
contained in them.
</li>
<li class="listitem">
Retrieving the current pixbuf via the <a class="link" href="gst-plugins-good-plugins-gdkpixbufsink.html#GstGdkPixbufSink--last-pixbuf" title='The "last-pixbuf" property'><span class="type">"last-pixbuf"</span></a> property
when needed.
</li>
</ul></div>
<p>
</p>
<p>
The primary purpose of this element is to abstract away the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gstreamer/html/gstreamer-GstBuffer.html#GstBuffer"><span class="type">GstBuffer</span></a> to
<span class="type">GdkPixbuf</span> conversion. Other than that it's very similar to the fakesink
element.
</p>
<p>
This element is meant for easy no-hassle video snapshotting. It is not
suitable for video playback or video display at high framerates. Use
ximagesink, xvimagesink or some other suitable video sink in connection
with the <a href="http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-base-libs/html/gst-plugins-base-libs-gstxoverlay.html#GstXOverlay"><span class="type">GstXOverlay</span></a> interface instead if you want to do video playback.
</p>
<div class="refsect2" title="Message details">
<a name="id599073"></a><h3>Message details</h3>
As mentioned above, this element will by default post element messages
containing structures named <code class="classname">"preroll-pixbuf"
</code> or <code class="classname">"pixbuf"</code> on the bus (this
can be disabled by setting the <a class="link" href="gst-plugins-good-plugins-gdkpixbufsink.html#GstGdkPixbufSink--post-messages" title='The "post-messages" property'><span class="type">"post-messages"</span></a> property
to <a href="http://library.gnome.org/devel/glib/unstable/glib-Standard-Macros.html#FALSE:CAPS"><span class="type">FALSE</span></a> though). The element message structure has the following fields:
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
<code class="classname">"pixbuf"</code>: the <span class="type">GdkPixbuf</span> object
</li>
<li class="listitem">
<code class="classname">"pixel-aspect-ratio"</code>: the pixel aspect
  ratio (PAR) of the input image (this field contains a <span class="type">GstFraction</span>); the
  PAR is usually 1:1 for images, but is often something non-1:1 in the case
  of video input. In this case the image may be distorted and you may need
  to rescale it accordingly before saving it to file or displaying it. This
  can easily be done using <code class="function">gdk_pixbuf_scale()</code> (the reason this is not done
  automatically is that the application will often scale the image anyway
  according to the size of the output window, in which case it is much more
  efficient to only scale once rather than twice). You can put a videoscale
  element and a capsfilter element with
  <code class="literal">video/x-raw-rgb,pixel-aspect-ratio=(fraction)1/1</code> caps
  in front of this element to make sure the pixbufs always have a 1:1 PAR.
</li>
</ul></div>
</div>
<hr>
<div class="refsect2" title="Example pipeline">
<a name="id612822"></a><h3>Example pipeline</h3>
<div class="informalexample">
  <table class="listing_frame" border="0" cellpadding="0" cellspacing="0">
    <tbody>
      <tr>
        <td class="listing_lines" align="right"><pre>1</pre></td>
        <td class="listing_code"><pre class="programlisting">gst<span class="symbol">-</span>launch <span class="symbol">-</span>m <span class="symbol">-</span>v videotestsrc num<span class="symbol">-</span>buffers<span class="symbol">=</span><span class="number">1</span> <span class="symbol">!</span> gdkpixbufsink</pre></td>
      </tr>
    </tbody>
  </table>
</div>
 Process one single test image as pixbuf (note that the output you see will
be slightly misleading. The message structure does contain a valid pixbuf
object even if the structure string says '(NULL)').
</div>
</div>
<div class="refsect1" title="Details">
<a name="gst-plugins-good-plugins-gdkpixbufsink.details"></a><h2>Details</h2>
<div class="refsect2" title="GstGdkPixbufSink">
<a name="GstGdkPixbufSink-struct"></a><h3>GstGdkPixbufSink</h3>
<pre class="programlisting">typedef struct _GstGdkPixbufSink GstGdkPixbufSink;</pre>
<p>
Opaque element structure.
</p>
</div>
</div>
<div class="refsect1" title="Property Details">
<a name="gst-plugins-good-plugins-gdkpixbufsink.property-details"></a><h2>Property Details</h2>
<div class="refsect2" title='The "last-pixbuf" property'>
<a name="GstGdkPixbufSink--last-pixbuf"></a><h3>The <code class="literal">"last-pixbuf"</code> property</h3>
<pre class="programlisting">  "last-pixbuf"              <span class="type">GdkPixbuf</span>*            : Read</pre>
<p>Last GdkPixbuf object rendered.</p>
</div>
<hr>
<div class="refsect2" title='The "send-messages" property'>
<a name="GstGdkPixbufSink--send-messages"></a><h3>The <code class="literal">"send-messages"</code> property</h3>
<pre class="programlisting">  "send-messages"            <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="type">gboolean</span></a>              : Read / Write</pre>
<p>Whether to post messages containing pixbufs on the bus  (deprecated, use post-messages).</p>
<p>Default value: TRUE</p>
</div>
<hr>
<div class="refsect2" title='The "post-messages" property'>
<a name="GstGdkPixbufSink--post-messages"></a><h3>The <code class="literal">"post-messages"</code> property</h3>
<pre class="programlisting">  "post-messages"            <a href="http://library.gnome.org/devel/glib/unstable/glib-Basic-Types.html#gboolean"><span class="type">gboolean</span></a>              : Read / Write</pre>
<p>Whether to post messages containing pixbufs on the bus.</p>
<p>Default value: TRUE</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>